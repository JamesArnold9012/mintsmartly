
import { toast } from "sonner";

export type WalletStatus = "disconnected" | "connecting" | "connected";

export interface WalletInfo {
  name: string;
  address: string;
  icon: string;
}

// Simulate wallet connection - in a real app, you would use Solana wallet adapter
export const connectWallet = async (
  walletName: string
): Promise<{ success: boolean; address?: string; error?: string }> => {
  // Simulate connection delay
  return new Promise((resolve) => {
    setTimeout(() => {
      // Mock success for Phantom and Solflare, failure for others
      if (["Phantom", "Solflare"].includes(walletName)) {
        const address = `${walletName.toLowerCase()}_${Math.random()
          .toString(36)
          .substring(2, 10)}`;
        resolve({ success: true, address });
      } else {
        resolve({
          success: false,
          error: "Wallet connection failed. Please try again.",
        });
      }
    }, 1000);
  });
};

export const disconnectWallet = async (): Promise<boolean> => {
  // Simulate disconnection delay
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(true);
    }, 500);
  });
};

export const getWalletBalance = async (
  address: string
): Promise<{ sol: number; tokens: { [key: string]: number } }> => {
  // Simulate fetching balance
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({
        sol: 5 + Math.random() * 10,
        tokens: {
          "USDC": 100 + Math.random() * 900,
        },
      });
    }, 800);
  });
};

export const shortAddress = (address: string): string => {
  if (!address) return "";
  return `${address.slice(0, 6)}...${address.slice(-4)}`;
};

// Available wallets for connection
export const availableWallets: WalletInfo[] = [
  {
    name: "Phantom",
    address: "",
    icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDQxIDY5LjkyMjkgMzguNDA4OSA2Ni4yODc0IDM4LjQwODkgNjEuODAyNEMzOC40MDg5IDU3LjMxNDEgNDIuMDQxIDUzLjY4MTkgNDYuNTI2NyA1My42ODE5QzUxLjAxMjQgNTMuNjgxOSA1NC42NDc5IDU3LjMxNDEgNTQuNjQ3OSA2MS44MDI0QzU0LjY0NzkgNjYuMjg3NCA1MS4wMTI0IDY5LjkyMjkgNDYuNTI2NyA2OS45MjI5Wk02OS4zMzggMzguMDc2MUM2NC44NTIzIDM4LjA3NjEgNjEuMjIwMSAzNC40NDQgNjEuMjIwMSAyOS45NTU2QzYxLjIyMDEgMjUuNDcwNyA2NC44NTIzIDIxLjgzNTIgNjkuMzM4IDIxLjgzNTJDNzMuODI2NCAyMS44MzUyIDc3LjQ1ODYgMjUuNDcwNyA3Ny40NTg2IDI5Ljk1NTZDNzcuNDU4NiAzNC40NDQgNzMuODI2NCAzOC4wNzYxIDY5LjMzOCAzOC4wNzYxWk02OS4zMzggNTMuNjgxOUM2NC44NTIzIDUzLjY4MTkgNjEuMjIwMSA1MC4wNDk3IDYxLjIyMDEgNDUuNTYxNEM2MS4yMjAxIDQxLjA3NjQgNjQuODUyMyAzNy40NDQzIDY5LjMzOCAzNy40NDQzQzczLjgyNjQgMzcuNDQ0MyA3Ny40NTg2IDQxLjA3NjQgNzcuNDU4NiA0NS41NjE0Qzc3LjQ1ODYgNTAuMDQ5NyA3My44MjY0IDUzLjY4MTkgNjkuMzM4IDUzLjY4MTlaTTQ2LjUyNjcgNTQuMzE3MUM0Mi4wNDEgNTQuMzE3MSAzOC40MDg5IDUwLjY4MjIgMzguNDA4OSA0Ni4xOTY2QzM4LjQwODkgNDEuNzExNiA0Mi4wNDEgMzguMDc2MSA0Ni41MjY3IDM4LjA3NjFDNTEuMDEyNCAzOC4wNzYxIDU0LjY0NzkgNDEuNzExNiA1NC42NDc5IDQ2LjE5NjZDNTQuNjQ3OSA1MC42ODIyIDUxLjAxMjQgNTQuMzE3MSA0Ni41MjY3IDU0LjMxNzFaTTQ2LjUyNjcgMzguNzEwN0M0Mi4wNDEgMzguNzEwNyAzOC40MDg5IDM1LjA3NTggMzguNDA4OSAzMC41OTExQzM4LjQwODkgMjYuMTAzNSA0Mi4wNDEgMjIuNDcxMyA0Ni41MjY3IDIyLjQ3MTNDNTEuMDEyNCAyMi40NzEzIDU0LjY0NzkgMjYuMTAzNSA1NC42NDc5IDMwLjU5MTFDNTQuNjQ3OSAzNS4wNzU4IDUxLjAxMjQgMzguNzEwNyA0Ni41MjY3IDM4LjcxMDdaTTI5LjI5MDUgNTMuODk3NUM0MC4zNjUxIDUzLjg5NzUgNDkuMzQ1MiA0NC45MTc0IDQ5LjM0NTIgMzMuODQyOEM0OS4zNDUyIDIyLjc2ODIgNDAuMzY1MSAxMy43ODgxIDI5LjI5MDUgMTMuNzg4MUMxOC4yMTU5IDEzLjc4ODEgOS4yMzU4NCAyMi43NjgyIDkuMjM1ODQgMzMuODQyOEM5LjIzNTg0IDQ0LjkxNzQgMTguMjE1OSA1My44OTc1IDI5LjI5MDUgNTMuODk3NVpNMjMuNTU1MyA4My44MTRDMjMuNTU1MyA3OC4yNjk1IDI1LjE2NjggNzMuNDkxNSAyOC4zODU3IDY5LjQ5N0wzNy4wMDk2IDU3LjIzNEwzNy45NjA5IDY1LjgzOTRMMzEuNzU2OCA3NC41MDc1TDMzLjgwNTUgNzcuODAyMUw0MC45MDA2IDY3Ljk2NTZDNDEuNzk5OCA2Ni42OTE0IDQxLjU2OTMgNjQuOTkyOSA0MC4zNjY0IDYzLjk2ODFMMzkuNzU5NiA2My40NTM2TDM4LjQzMjEgNTIuMDU1OEw0NS43NzA0IDQxLjY4MjRDNDguMzA3NCAzOC4yNTQzIDQzLjg0NjUgMzMuNzkzNCA0MC40MTg1IDM2LjMzMDRMMzEuMzcgNDcuODE0MUMyOC40NzEgNDQuMTE0NiAyNC4yOTgxIDQxLjY4MjQgMTkuNTk3IDQxLjY4MjRDMTMuMDI4OCA0MS42ODI0IDcuMDYwNzkgNDUuNDU1NiA0LjM5MTI5IDUxLjE0MjJDMS43MjE3OSA1Ni44Mjg4IDIuNjYxMDYgNjMuNDMyMSA2Ljc1MTczIDY4LjMyMjdDNC41MDA3NyA3Mi43NjE2IDMuMzg2MzUgNzcuNjU3NyAzLjM4NjM1IDgyLjk3NzlWODMuODE0Qy0xLjAzMjUyIDk2LjQ0MzYgMTUuMjY5NiA5Ny4wNDc4IDE4Ljk0MTUgOTcuMDQ3OEgyMy41NTUzVjgzLjgxNFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==",
  },
  {
    name: "Solflare",
    address: "",
    icon: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xMDFfNikiLz4KPHBhdGggZD0iTTEwNi41IDE4SDgxLjVWNTFIMTA2LjVWMThaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTA2LjYwNSA3Ni4yMDAyQzEwNi42MDUgNzYuMTAwMiAxMDYuNTA1IDc2LjAwMDIgMTA2LjUwNSA3Ni4wMDAyQzEwNi40MDUgNzUuOTAwMiAxMDYuNDA1IDc1LjkwMDIgMTA2LjMwNSA3NS45MDAySDEwNi4yMDVDMTA2LjEwNSA3NS45MDAyIDEwNi4wMDUgNzUuOTAwMiAxMDUuOTA1IDc2LjAwMDJMOTEuMDA0NiA4Ny42MDAyQzkwLjkwNDYgODcuNzAwMiA5MC44MDQ2IDg3LjgwMDIgOTAuODA0NiA4OC4wMDAyQzkwLjgwNDYgODguMTAwMiA5MC44MDQ2IDg4LjMwMDIgOTAuOTA0NiA4OC40MDAyTDEwNS44MDUgMTA5LjlDMTA1LjkwNSAxMTAgMTA2LjAwNSAxMTAuMSAxMDYuMjA1IDExMC4xSDEwNi4zMDVDMTA2LjQwNSAxMTAuMSAxMDYuNTA1IDExMC4xIDEwNi42MDUgMTEwQzEwNi43MDUgMTA5LjkgMTA2LjgwNSAxMDkuOCAxMDYuODA1IDEwOS42VjEwOS41Vjc2LjUwMDJDMTA2LjgwNSA3Ni40MDAyIDEwNi43MDUgNzYuMzAwMiAxMDYuNjA1IDc2LjIwMDJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjEuNSAxOEg0Ni41VjUxSDIxLjVWMThaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjEuMzk1NCA3Ni4yMDAyQzIxLjM5NTQgNzYuMTAwMiAyMS40OTU0IDc2LjAwMDIgMjEuNDk1NCA3Ni4wMDAyQzIxLjU5NTQgNzUuOTAwMiAyMS41OTU0IDc1LjkwMDIgMjEuNjk1NCA3NS45MDAySDIxLjc5NTRDMjEuODk1NCA3NS45MDAyIDIxLjk5NTQgNzUuOTAwMiAyMi4wOTU0IDc2LjAwMDJMMzYuOTk1NCA4Ny42MDAyQzM3LjA5NTQgODcuNzAwMiAzNy4xOTU0IDg3LjgwMDIgMzcuMTk1NCA4OC4wMDAyQzM3LjE5NTQgODguMTAwMiAzNy4xOTU0IDg4LjMwMDIgMzcuMDk1NCA4OC40MDAyTDIyLjE5NTQgMTA5LjlDMjIuMDk1NCAxMTAgMjEuOTk1NCAxMTAuMSAyMS43OTU0IDExMC4xSDIxLjY5NTRDMjEuNTk1NCAxMTAuMSAyMS40OTU0IDExMC4xIDIxLjM5NTQgMTEwQzIxLjI5NTQgMTA5LjkgMjEuMTk1NCAxMDkuOCAyMS4xOTU0IDEwOS42VjEwOS41Vjc2LjUwMDJDMjEuMjk1NCA3Ni40MDAyIDIxLjI5NTQgNzYuMzAwMiAyMS4zOTU0IDc2LjIwMDJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNjMuOTAwMiAyMC4yMDAyTDQ5LjAwMDIgNzUuOTAwMkM0OC45MDAyIDc2LjEwMDIgNDkuMDAwMiA3Ni4zMDAyIDQ5LjEwMDIgNzYuNDAwMkM0OS4yMDAyIDc2LjUwMDIgNDkuNDAwMiA3Ni42MDAyIDQ5LjYwMDIgNzYuNTAwMkg3OC40MDAyQzc4LjYwMDIgNzYuNTAwMiA3OC44MDAyIDc2LjQwMDIgNzguOTAwMiA3Ni4zMDAyQzc5LjAwMDIgNzYuMjAwMiA3OS4xMDAyIDc2LjAwMDIgNzkuMDAwMiA3NS44MDAyTDY0LjEwMDIgMjAuMTAwMkM2NC4wMDAyIDE5LjkwMDIgNjMuOTAwMiAxOS44MDAyIDYzLjgwMDIgMTkuNzAwMkM2My43MDAyIDE5LjYwMDIgNjMuNTAwMiAxOS42MDAyIDYzLjQwMDIgMTkuNjAwMkM2My45MDAyIDE5LjcwMDIgNjMuOTAwMiAxOS45MDAyIDYzLjkwMDIgMjAuMjAwMloiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTAxXzYiIHgxPSI2NCIgeTE9IjAiIHgyPSI2NCIgeTI9IjEyOCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRkZDMTBCIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZCNTQwNyIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=",
  },
];
